<app-navbar></app-navbar>

<main class="profile-page">
	<section class="relative block h-500-px">
	  <div
		class="absolute top-0 w-full h-full bg-center bg-cover"
		style="
		  background-color: midnightblue"
	  >
		<span
		  id="blackOverlay"
		  class="w-full h-full absolute opacity-50 bg-black"
		></span>
	  </div>
	  <div
		class="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px"
		style="transform: translateZ(0);"
	  >
		<svg
		  class="absolute bottom-0 overflow-hidden"
		  xmlns="http://www.w3.org/2000/svg"
		  preserveAspectRatio="none"
		  version="1.1"
		  viewBox="0 0 2560 100"
		  x="0"
		  y="0"
		>
		  <polygon
			class="text-gray-300 fill-current"
			points="2560 0 2560 100 0 100"
		  ></polygon>
		</svg>
	  </div>
	</section>
	<section class="relative py-16 bg-gray-300">
	  <!-- <div class="container mx-auto px-4"> -->
		<div class="row mr-5 ml-5">
			<div class="col-4">

	<div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64">
		  <div class="px-6" style="text-align: center;">
			<div class="col-md-4 w-full lg:w-6/12 px-4">
				<div class="row d-flex justify-content-center">
			<div class="flex flex-wrap justify-center">
			  <div class="w-full lg:w-3/12 px-4 lg:order-2 flex justify-center">
				<div class="relative" style="margin-left: 300px;">
				  <img
					alt="..."
					src="../../../../assets/images/team-2-800x800.jpg"
					class="shadow-xl rounded-full h-auto align-middle border-none absolute -m-16 -ml-20 lg:-ml-16 max-w-150-px" 
				  />
				</div>
			  </div>
			  
			  <br>
			  <br>
			</div>
  
			<div class="text-center mt-12" style="margin-left: 300px;">
			  <a class="btn-lg btn-default"><i class="fas fa-camera" style="margin-right: 230px"></i></a>
			  <h3
				class="text-4xl font-semibold leading-normal mb-2 text-gray-800 mb-2"
			  >
			  {{passenger.firstName}} {{passenger.lastName}}
			  </h3>
			  <div class="mb-2 text-blue-600 mt-10">
				<i class="fas fa-briefcase mr-2 text-lg bg-indigo-700"></i>
				Email: {{passenger.email}}
			  </div>
			  <div class="mb-2 text-blue-600">
				<i class="fas fa-map-marker mr-2 text-lg bg-indigo-700"></i>
				Address: {{passenger.address}}
			  </div>
			  <div class="mb-2 text-blue-600">
				<i class="fas fa-envelope mr-2 text-lg bg-indigo-700"></i>
				Phone number: {{passenger.phoneNumber}}
			  </div>
	
      </div>
      <a routerLink='/home' class="indigo-text mt-1 d-flex flex-row-reverse" mdbWavesEffect>
        <div class="pt-12 pb-8">
          <button class="bg-green-700 hover:bg-green-900 text-white font-bold py-2 px-4 " style="background-color: midnightblue; margin-left: 50px; border-radius: 5px 5px 5px 5px; width: 200px;">
           Check Rides
          </button> 
        </div>
        </a>
			<div class="mt-3 py-3 border-t border-gray-300 text-center">
			</div>
		  </div>
		</div>
	  </div>
	  </div>
	  </div>
			
			<div class="col-8">

				<div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64">
					<div class="px-6">
						<div class="col-md-4 w-full lg:w-6/12 px-4">
							<div class="row d-flex justify-content-center">
							<div class="flex flex-wrap justify-center">
							  	<div class="w-full lg:w-3/12 px-4 lg:order-2 flex justify-center">
								<div class="relative">
								  <img
									alt="..."
									src="../../../../assets/images/car.jpg"
									class="shadow-xl rounded-full h-auto align-middle border-none absolute -m-16 -ml-20 lg:-ml-16 max-w-150-px"
								  />
								</div>
							  </div>
							  
							  <br>
							  <br>
							</div>
				  
							<div class="container mt-5">
								<div class="main-body">
									  <div class="row gutters-sm">
										<div class="col-md-7 mb-3 mt-5">
											<div class="col-7" *ngIf="rides">
											  <table mdbTable style="width:600px">
												<thead class="black white-text">
												  <tr>
													<th *ngFor="let head of headElements" scope="col">{{head}} </th>
												  </tr>
												</thead>
												<tbody>
												  <tr mdbTableCol *ngFor="let ride of rides" style="height: 5em;">
													<td scope="row">{{ride.departure}}</td>
													<td>{{ride.destination}}</td>
													<td>{{ride.date}}</td>
													<td>{{ride.time}}</td>
													<td >
													  <span *ngIf="ride.Date - now < 0 && now - ride.Date < 24">On the way..</span>
													  <span *ngIf="ride.checkedStatus === false && ride.Date - now > 0">Coming..</span>
													  <span *ngIf="ride.checkedStatus === true && ride.Date - now > 0">Ready to go!</span>
													  <button  type="button" mdbBtn color="info" size="sm"  mdbWavesEffect (click)="frame.show()" *ngIf="ride.checkedStatus === true && now - ride.Date > 24" >Feedback</button>
													</td>
							  
													<div mdbModal #frame="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
								aria-labelledby="myModalLabel" aria-hidden="true">
								<div class="modal-dialog modal-md modal-notify modal-warning" role="document">
								  <!--Content-->
								  <div class="modal-content text-center">
									<!--Header-->
									<div class="modal-header d-flex justify-content-center">
									  <div class="col-xl-12 col-md-4 mb-3 text-center">
							  
										<img src={{ride.Driver.imageUrl}} class="img-fluid z-depth-1 rounded-circle"
										  alt="Responsive image">
									
									  </div>
									</div>
							  
									<!--Body-->
									<form (ngSubmit)="onSubmit(f,ride.id,ride.driverId)" #f="ngForm">
									<div class="modal-body">
							  
									  <h4>Add a comment for: {{ride.Driver.firstName}}</h4>
															  
															  <div class="rating" > <input type="radio" name="rating5" value="5" id="5" ngModel><label for="5">☆</label> <input type="radio" name="rating4" value="4" id="4" ngModel><label for="4">☆</label> <input type="radio" name="rating3" value="3" id="3" ngModel><label for="3">☆</label> <input type="radio" name="rating2" value="2" id="2" ngModel><label for="2">☆</label> <input type="radio" name="rating1" value="1" id="1" ngModel><label for="1" >☆</label> </div>
															  <div class="comment-area"> <textarea name="comment" class="form-control" placeholder="what is your view?" rows="4" ngModel></textarea> </div>
															  
									</div>
							  
									<!--Footer-->
									<div class="modal-footer justify-content-center">
									  <button mdbBtn color="warning" outline="true" class="waves-effect"
										mdbWavesEffect>Yes</button>
									  <a type="button" mdbBtn color="warning" class="waves-effect" mdbWavesEffect data-dismiss="modal" (click)="frame.hide()">No</a>
									</div>
								  </form>
								  </div>
								  <!--/.Content-->
								</div>
							  </div>
							  
							  
													<!--  -->
													<!-- <div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
													aria-labelledby="myModalLabel">
														 <form (ngSubmit)="onSubmit(f,ride.id,ride.driverId)" #f="ngForm">
													  <div class="col-2"> <img src="https://i.imgur.com/xELPaag.jpg" width="70" class="rounded-circle mt-2"> </div>
													  <div class="col-4 bg-white mt">
														  <div class="comment-box ml-2">
															  <h4>Add a comment for :</h4>
															  <h3>{{ride.Driver.firstName}}</h3>
															  <div class="rating" > <input type="radio" name="rating5" value="5" id="5" ngModel><label for="5">☆</label> <input type="radio" name="rating4" value="4" id="4" ngModel><label for="4">☆</label> <input type="radio" name="rating3" value="3" id="3" ngModel><label for="3">☆</label> <input type="radio" name="rating2" value="2" id="2" ngModel><label for="2">☆</label> <input type="radio" name="rating1" value="1" id="1" ngModel><label for="1" >☆</label> </div>
															  <div class="comment-area"> <textarea name="comment" class="form-control" placeholder="what is your view?" rows="4" ngModel></textarea> </div>
															  <div class="comment-btns mt-2">
																  <div class="row">
																	  <div class="col-6">
																		  <div class="pull-right"> <button class="btn btn-success send btn-sm">Send <i class="fa fa-long-arrow-right ml-1"></i></button> </div>
																	  </div>
																  </div>
															  </div>
														  </div>
													  </div>
													</form>
													</div> -->
												  </tr>
												</tbody>
											  </table>
											</div>
							  
										   <div class="container mt-5" *ngIf="false">
								<div class="d-flex justify-content-center row">
									<div class="col-md-6">
										<div class="p-3 bg-white rounded">
											<h6>Reviews[{{Driver.timesRated}}]</h6>
											<div class="review mt-4" *ngFor="let feed of feedBack">
												<div class="d-flex flex-row comment-user"><img class="rounded" src="https://i.imgur.com/xxJl1D7.jpg" width="40">
													<div class="ml-2">
														<div class="d-flex flex-row align-items-center"><span class="name font-weight-bold">{{feed.Passenger.firstName}} {{feed.Passenger.lastName}}</span><span class="dot"></span><span class="date">{{feed.createdAt }}</span></div>
														<div class="rating"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></div>
													</div>
												</div>
												<div class="mt-2">
													<p class="comment-text">{{feed.message}}</p>
												</div>
											</div>
										</div>
									</div>
								</div>
							  </div> 
							  
							  </div>
							  </div>
							  </div>
							  </div>      
							  
							<div class="mt-10 py-10 border-t border-gray-300 text-center">
							</div>
						  </div>
						</div>
					</div>
				</div>
			</div>


	  

		</div>
		


	  <!-- </div> -->
	</section>

	

  </main>
<app-footer></app-footer>
